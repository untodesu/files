set $MENU dmenu_run -nb "#000000" -sb "#FF0084" -sf "#000000" -fn "Ubuntu-Mono:regular:size=18"
set $TERMINAL terminator

# Colors - testing
set $COL_PRIM #FF0084
set $COL_SECN #2E2E2E
set $COL_BACK #000000
set $COL_FORE #FFFFFF

# Start a new terminal session
bindsym Mod1+Return exec --no-startup-id $TERMINAL; focus

# Run the menu application
# My hands don't physically feel comfortable
# when reaching for the D key as the index finger
# is laying right on the R key instead, so here's that.
bindsym Mod1+r exec --no-startup-id $MENU

# Screenshots
# Notice that it doesn't follow the common key
# notation as well, these are almost the same
# as screenshots you'd take on windows
bindsym Print exec --no-startup-id flameshot full --clipboard
bindsym Mod4+Shift+s exec --no-startup-id flameshot gui --clipboard

# Use pamixer to adust PulseAudio's (actually just
# a wrapper PipeWire, I guess) volume settings
bindsym XF86AudioRaiseVolume exec --no-startup-id pamixer --increase 5
bindsym XF86AudioLowerVolume exec --no-startup-id pamixer --decrease 5
bindsym Shift+XF86AudioRaiseVolume exec --no-startup-id pamixer --increase 10
bindsym Shift+XF86AudioLowerVolume exec --no-startup-id pamixer --decrease 10
bindsym XF86AudioMute exec --no-startup-id pamixer --toggle-mute
bindsym XF86AudioMicMute exec --no-startup-id pamixer --default-source --toggle-mute

# Adjust backlight brightness
bindsym XF86MonBrightnessUp exec --no-startup-id brightnessctl set +5%
bindsym XF86MonBrightnessDown exec --no-startup-id brightnessctl set 5%-

# Holding this allows to drag
# floating containers around whilst
# holding $MODKEY and left mouse button
floating_modifier Mod1

# Kill the focused container
bindsym Mod1+q kill

# Move focus around containers
bindsym Mod1+Left  focus left
bindsym Mod1+Down  focus down
bindsym Mod1+Up    focus up
bindsym Mod1+Right focus right

# Move focused container around
bindsym Mod1+Shift+Left  move left
bindsym Mod1+Shift+Down  move down
bindsym Mod1+Shift+Up    move up
bindsym Mod1+Shift+Right move right

# Split container vertically/horizontally
bindsym Mod1+z split v
bindsym Mod1+x split h

# Change container layout
bindsym Mod4+s layout stacking
bindsym Mod4+t layout tabbed
bindsym Mod4+e layout toggle split

# Define workspace names
set $WS1 "1"
set $WS2 "2"
set $WS3 "3"
set $WS4 "4"
set $WS5 "5"
set $WS6 "6"
set $WS7 "7"
set $WS8 "8"

# Switch to workspace
bindsym Mod1+1 workspace number $WS1
bindsym Mod1+2 workspace number $WS2
bindsym Mod1+3 workspace number $WS3
bindsym Mod1+4 workspace number $WS4
bindsym Mod1+5 workspace number $WS5
bindsym Mod1+6 workspace number $WS6
bindsym Mod1+7 workspace number $WS7
bindsym Mod1+8 workspace number $WS8

# Move focused container to workspace
bindsym Mod1+Shift+1 move container to workspace number $WS1
bindsym Mod1+Shift+2 move container to workspace number $WS2
bindsym Mod1+Shift+3 move container to workspace number $WS3
bindsym Mod1+Shift+4 move container to workspace number $WS4
bindsym Mod1+Shift+5 move container to workspace number $WS5
bindsym Mod1+Shift+6 move container to workspace number $WS6
bindsym Mod1+Shift+7 move container to workspace number $WS7
bindsym Mod1+Shift+8 move container to workspace number $WS8

# Power management
set $powermanage Lock/Exit/Suspend/Hibernate/Reboot/Poweroff
mode "$powermanage" {
    bindsym l exec --no-startup-id $HOME/.config/i3/scripts/locker.sh, mode "default"
    bindsym e exec --no-startup-id i3-msg exit, mode "default"
    bindsym s exec --no-startup-id systemctl suspend, mode "default"
    bindsym h exec --no-startup-id systemctl hibernate, mode "default"
    bindsym Shift+r exec --no-startup-id systemctl reboot, mode "default"
    bindsym Shift+p exec --no-startup-id systemctl poweroff -i, mode "Default"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# Resizing shit
set $resize Resize
mode "$resize" {
    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# Bind modes to specific keys
bindsym Mod1+Escape mode "$powermanage"
bindsym Mod1+c mode "$resize"

# i3-specific bindings
bindsym Mod4+Ctrl+c reload
bindsym Mod4+Ctrl+r restart

# Container borders
default_border pixel 1
for_window [class="^.*"] border pixel 1
gaps inner 4
gaps outer 2

# Colors
client.focused $COL_PRIM $COL_BACK $COL_FORE $COL_PRIM $COL_PRIM
client.focused_inactive $COL_BACK $COL_BACK $COL_FORE $COL_BACK $COL_BACK
client.unfocused $COL_BACK $COL_BACK $COL_FORE $COL_BACK $COL_BACK

# The font (eek)
font pango:Ubuntu Mono 16

# Start XDG autostart .desktop entries using dex
# https://wiki.archlinux.org/index.php/XDG_Autostart
exec --no-startup-id dex --autostart --environment i3

# Autostart
exec --no-startup-id $HOME/.config/i3/scripts/init.dbus.sh
exec --no-startup-id $HOME/.config/i3/scripts/init.keyboard.sh
exec_always --no-startup-id $HOME/.config/i3/scripts/reload.dunst.sh
exec_always --no-startup-id $HOME/.config/i3/scripts/reload.flameshot.sh
exec_always --no-startup-id $HOME/.config/i3/scripts/reload.polybar.sh
exec_always --no-startup-id $HOME/.config/i3/scripts/reload.wallpaper.sh
